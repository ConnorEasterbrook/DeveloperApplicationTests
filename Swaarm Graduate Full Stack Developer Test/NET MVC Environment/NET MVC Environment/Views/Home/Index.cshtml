@{
    ViewData["Title"] = "Home Page";
}

<div id="root">
    <div class="text-center" id="container">
        <div>
            <h1 class="display-4">Swaarm Graduate Full Stack Developer Test</h1>
            <p>Started Monday 16/04/2023 16:00:00.</p>
        </div>

        <input type="text" id="name-input" placeholder="Name" />
        <input type="email" id="email-input" placeholder="Email" />
        <button id="submit-button" onclick="submitInfo()">Submit</button>
    </div>

    <script>
        function submitInfo() 
        {
            var name = $('#name-input').val();
            var email = $('#email-input').val();

            if (!validateEmail(email)) 
            {
                alert("Please enter a valid email address.");
                return;
            }

            $.ajax({
                url: "/Index/AddContact",
                type: "POST",
                data: { name: name, email: email },
                success: function (result) 
                {
                    alert("Success");
                },
                error: function (xhr, textStatus, errorThrown) 
                {
                    alert("An error occurred while calling the C# function.");
                }
            });
        }

        function validateEmail(email) 
        {
            var re = /^[a-zA-Z0-9._%+-]+@@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i;
            return re.test(email);
        }
    </script>
</div>
